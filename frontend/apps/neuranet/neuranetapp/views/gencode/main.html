<!--
/* A user manager component.
* (C) 2021 TekMonks. All rights reserved.
* License: See enclosed license file.
*/
-->

<style>
div#header {
    width: 100%;
    display: flex;
    justify-content: space-between;
    height: 3em;
}

select {
    padding: 1em;
    border: 1px solid #03B3FF;
    outline: none;
    border-radius: 1em;
    box-sizing: border-box;
    color: #017aae;
    flex-grow: 1;
}

span#controls {
    align-items: center;
    display: flex;
    flex-direction: row;
    margin: 0em 5%;
    color: #017aae;
}
input#agichain {margin-right: 0.5em;}

div#mainworkspace {
    overflow-y: auto;
    height: calc(100% - 3em);
    width: 100%;
    display: flex;
    flex-direction: row;
}

div.subcontainer {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    height: 100%;
    box-sizing: border-box;
    max-width: calc((100% - 6em) / 2);
}

text-editor {
    flex-grow: 1;
    resize: none;
    border: 1px solid #03B3FF;
    outline: none;
    margin: 2em 0em;
    border-radius: 1em;
    box-sizing: border-box;
    padding: 1em;
    width: 100%;
}

span#botbutton {
    display: flex;
    align-items: center;
    margin: 0em 1em;
    justify-content: center;
}
img#botbutton { width: 4em; height: 4em; }
</style>
{{{APP_CONSTANTS.MOBILE_MEDIA_QUERY_START}}}
span#header > input {margin-right: 0em; max-width: calc(100% - 9em);}
span#header > button {min-width: 7em;}
div.subcontainer {max-width: unset;}
div#mainworkspace {flex-direction: column;}
{{{APP_CONSTANTS.MOBILE_MEDIA_QUERY_END}}}

<script type="module">
import {gencode} from "{{{viewpath}}}/js/gencode.mjs"; monkshu_env.apps[APP_CONSTANTS.APP_NAME].gencode = gencode; 
</script>

<div id="header">
    <select id="sourcelang">
        {{#CONF.LANGS_SUPPORTED}}
        <option value="{{.}}">{{.}}</option>
        {{/CONF.LANGS_SUPPORTED}}
    </select>

    <span id="controls">
        <input id="agichain" type="checkbox">
        <label for="agichain" style="word-wrap:break-word">AGI Chain</label>
    </span>

    <select id="targetlang">
        {{#CONF.LANGS_SUPPORTED}}
        <option value="{{.}}">{{.}}</option>
        {{/CONF.LANGS_SUPPORTED}}
    </select>
</div>

<div id="mainworkspace">
<div id="sourcelang" class="subcontainer">
    <text-editor id="sourcelang" editormode="text" takefocus downloadfilename="code.txt" 
        uploadMime="*" downloadMime="text/plain"></text-editor>
</div>

<span id="botbutton">
<img id="botbutton" src="{{{viewpath}}}/img/bot.svg" onclick="monkshu_env.apps[APP_CONSTANTS.APP_NAME].gencode.convert(this)">
</span>

<div id="targetlang" class="subcontainer">
    <text-editor id="targetlang" editormode="text" readonly showToolbarLoadButton="false" 
        downloadfilename="code.txt" uploadMime="*" downloadMime="text/plain"></text-editor>
</div>
</div>